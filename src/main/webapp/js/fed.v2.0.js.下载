/* 2019-02-20 17:13:58 yi.z */
jQuery(function(){jQuery.fn.calendar=function(a){var b=jQuery.fn.calendar;b.init();var c=function(a){var c=jQuery(b.target);a=[a.getFullYear(),a.getMonth()+1,a.getDate()].join("-");c.val(a);c.attr("selectedvalue",a);if(c.data("calendar.options")){var e=c.data("calendar.options").callback;e&&e(a,c)}if(c=c.data("calendar.next"))/\d/.test(c.val())||c.val(""),c.focus()};return this.data("calendar.options",a||{}).each(function(){var a=jQuery(this),f=a.attr("date")?jQuery("#"+a.attr("date")):null;f&&(f.data("calendar.next",
jQuery(this)),a.data("calendar.prev",f));b.register(this,c)})};jQuery.fn.calendar.init=function(){var a=jQuery.fn.calendar,b=function(a){return a&&a.length?(a=Date.parse(a.val().replace(/-/g,"/")))&&!isNaN(a)?new Date(a):null:null},c=function(d){switch(a.state+""+d){case "01":var c=a.target;a.frame.opt(c.data("calendar.options"));a.frame.set(b(c)||new Date,[b(c),b(c.data("calendar.prev"))]);a.frame.show(c);break;case "21":a.target[0].focus();break;case "10":case "20":a.frame.hide()}a.state=d};a.init=
jQuery.noop;a.target=null;a.state=0;a.frame=new a.Frame;a.register=function(b,f){jQuery(b).focus(function(){a.target&&a.target[0]!=this&&c(0);a.target=jQuery(this);c(1)}).blur(function(){1==a.state&&c(0)}).data("calendar.onclick",f)};a.frame.onclick=function(b){setTimeout(function(){a.target.data("calendar.onclick")(b)},20);c(0)};a.frame.container.hover(function(){c(2)},function(){2==a.state&&c(1)})};jQuery.fn.calendar.Frame=function(){this.container=jQuery('<div id="calendar" class="gs-date" style="display:none"><div id="datelist0" class="date-list"></div><div id="datelist1" class="date-list"></div><a id="calendar-lastmonth">&lt;&lt;</a><a id="calendar-nextmonth">&gt;&gt;</a></div>').appendTo(document.body);
this.container.css({left:-1E3,top:-1E3,display:"block"});this.width=this.container.outerWidth();var a=this;a.units=jQuery("#datelist0, #datelist1").map(function(){var b=new jQuery.fn.calendar.Unit(this);b.onclick=function(){a.onclick.apply(a,arguments)};return b});jQuery("#calendar-lastmonth, #calendar-nextmonth").click(function(b){a.navigate(/next/.test(this.id)?1:-1)})};jQuery.fn.calendar.Frame.prototype={opt:function(a){jQuery.each(this.units,function(){delete this.options;this.options=jQuery.extend({},
this.options,a)})},set:function(a,b){var c=new Date(a),d=new Date(c.getFullYear(),c.getMonth(),1);jQuery.each(this.units,function(){this.set(d.getFullYear(),d.getMonth());d.setMonth(d.getMonth()+1)});b&&(this.hilits=b);jQuery.each(this.hilits||[],jQuery.proxy(function(a,b){b&&jQuery.each(this.units,function(a,d){d.hilit(b)})},this))},navigate:function(a){var b=this.units[0].year;a=this.units[0].month+a*this.units.length;12<=a?(++b,a-=12):0>a&&(--b,a+=12);this.set(new Date(b,a,1))},show:function(a){var b=
jQuery(a).offset();b.right=b.left+jQuery(a).outerWidth();b.bottom=b.top+jQuery(a).outerHeight();a=document.documentElement;var c=a.scrollLeft;this.container.css({left:b.left+this.width>a.scrollLeft+a.offsetWidth&&b.right-this.width>c?b.right-this.width:b.left,top:b.bottom,display:"block"})},hide:function(){this.container.css("display","none")},onclick:jQuery.noop};jQuery.fn.calendar.Unit=function(a,b){for(var c=jQuery(a),d=["<label></label>","<dl>"],f=0,e=this.character.weekday;7>f;++f)d.push('<dt class="week',
f,'">',e.charAt(f),"</dt>");d.push("<dd>");for(f=0;42>f;++f)d.push(31>f?"<span>"+(f+1)+"</span>":'<span class="foretime"></span>');d.push("</dd>","</dl>");c.html(d.join("")).click(jQuery.proxy(this,"click")).mouseover(jQuery.proxy(this,"mouseover")).mouseout(jQuery.proxy(this,"mouseout"));this.label=c.children("label");this.box=c.find("dd");this.blanks=this.box.find("span.foretime");this.numbers=this.box.find("span:not(.foretime)")};jQuery.fn.calendar.Unit.prototype={character:{y:"\u5e74",m:"\u6708",
weekday:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d"},options:{filter:function(a,b){return a>=b}},set:function(a,b){this.year=a;this.month=b;this.label.html(this.year+this.character.y+(this.month+1)+this.character.m);var c=(new Date(this.year,this.month+1,0)).getDate();this.numbers.slice(27,c).css("visibility","visible");this.numbers.slice(c).css("visibility","hidden");c=(new Date(this.year,this.month,1)).getDay();this.blanks.slice(0,c).prependTo(this.box);this.blanks.slice(c).appendTo(this.box);
this.today&&(this.today.removeClass("today"),this.today=null);var c=new Date,d=new Date(c.getFullYear(),c.getMonth(),c.getDate());this.year==d.getFullYear()&&this.month==d.getMonth()&&(this.today=this.numbers.eq(d.getDate()-1),this.today.addClass("today"));var f=new Date(this.year,this.month,1),e=this.options.filter;"no"!=jQuery.fn.calendar.target.data("calendar.options").foretime&&this.numbers.each(function(a){f.setDate(a+1);jQuery(this).toggleClass("foretime",!e(f,d))});this.current&&this.current.removeClass("current");
this.current=jQuery()},hilit:function(a){a.getFullYear()==this.year&&a.getMonth()==this.month&&(a=this.numbers.eq(a.getDate()-1),this.current.push(a.addClass("current")[0]))},click:function(a){a=jQuery(a.target);var b=this.numbers.index(a);0<=b&&!a.hasClass("foretime")&&(this.current.push(a.addClass("current")[0]),this.onclick(new Date(this.year,this.month,b+1)))},mouseover:function(a){a=jQuery(a.target);a.is("span")&&!a.hasClass("foretime")&&a.addClass("hover")},mouseout:function(a){a=jQuery(a.target);
a.hasClass("hover")&&a.removeClass("hover")},onclick:jQuery.noop}});
(function(a){var b,c,d,f,e,h,k,m,l,p,g,n=Array.prototype.slice,t=Object.prototype.hasOwnProperty;a=this.lvping||(this.lvping={});a.debug=!1;a.global=this;a.require=function(b){if(a.debug&&!a.resolve(b))return a.error(""+b+" required but not found")};a.provide=function(b){if(a.debug)return a.log(""+b+" provided")};a.define=function(b,w){var d,c,g,e,f,n;f=b.split(".");"lvping"!==f.shift()&&a.error('name must start with "lvping."');g=f.pop();d=a;c=0;for(n=f.length;c<n;c++)e=f[c],d.hasOwnProperty(e)?
"object"!==a.type(d[e])&&a.error('invalid namespace "lvping.'+f.slice(0,c+1||9E9).join(".")+'"'):d[e]={},d=d[e];d.hasOwnProperty(g)&&a.warn('conflicting name "'+b+'"');return d[g]=w};a.alias=function(){var a,b,d,c,g,e;d=arguments[0];c=arguments[1];b=3<=arguments.length?n.call(arguments,2):[];g=0;for(e=b.length;g<e;g++)a=b[g],d[a]=d[c];return d};a.resolve=function(b){var d;b=b.split(".");for(d=a.global;b.length&&d;)d=d[b.shift()];return d};a.type=function(a){return null===a?"null":void 0===a?"undefined":
Object.prototype.toString.call(a).match(/\w+/g).pop().toLowerCase()};p="String Number Boolean Array Function Object Null Undefined".split(" ");c=function(b,d){return a["is"+b]=function(b){return d===a.type(b)}};k=0;for(m=p.length;k<m;k++)g=p[k],l=g.toLowerCase(),c(g,l);a.extend=function(){var b,d,c,g,e,f,h,k;g=1<=arguments.length?n.call(arguments,0):[];b=a.isBoolean(g[0])&&g.shift();e=g.shift();h=0;for(k=g.length;h<k;h++)if(c=g[h])for(d in c)t.call(c,d)&&(f=c[d],b&&$.isPlainObject(f)&&(f=a.extend(!0,
{},f)),e[d]=f);return e};a.merge=function(){var b,d;d=1<=arguments.length?n.call(arguments,0):[];b=a.isBoolean(d[0])&&d.shift();return a.extend.apply(a,[b,{}].concat(n.call(d)))};a.proxy=function(){var b,d,c;c=arguments[0];d=arguments[1];b=3<=arguments.length?n.call(arguments,2):[];"array"!==a.type(d)&&(d=[d]);return function(){var g,e,f,h;g=1<=arguments.length?n.call(arguments,0):[];g=b.concat(g);f=0;for(h=d.length;f<h;f++)e=d[f],"string"===typeof e&&(e=c[e]),g=e.apply(c,g||[]),f===d.length-1||"array"===
a.type(g)||(g=[g]);return g}};a.mixin=function(){var b,d,c,g,e,f,h,k;e=arguments[0];c=2<=arguments.length?n.call(arguments,1):[];h=0;for(k=c.length;h<k;h++){d=c[h];b=!1;for(g in d)t.call(d,g)&&(f=d[g],"init"===g?b=f:e[g]=f);"function"===a.type(b)&&b.call(e)}return e};a.log=function(){var b,d;b=1<=arguments.length?n.call(arguments,0):[];if(a.debug&&"undefined"!==typeof console&&null!==console&&null!=(d=console.log)&&d.apply)return console.log.apply(console,["lvping.log: "].concat(n.call(b)))};a.warn=
function(){var b,d;b=1<=arguments.length?n.call(arguments,0):[];if(a.debug&&"undefined"!==typeof console&&null!==console&&null!=(d=console.warn)&&d.apply)return console.warn.apply(console,["lvping.warn: "].concat(n.call(b)))};a.error=function(a){throw"lvping.error: "+a;};a.hasOwn=function(a,b){return a.hasOwnProperty(b)};a.getOwn=function(a,b){if(a.hasOwnProperty(b))return a[b]};a.getOrMake=function(a,b,d){return a.hasOwnProperty(b)?a[b]:a[b]=d(b)};a.getOrNew=function(b,d,c){return a.getOrMake(b,
d,function(){return new c})};a.date={format:function(a,b){var d;null==b&&(b=!1);d=[a.getFullYear(),a.getMonth()+1,a.getDate()].join("-");return b?d.replace(/\b(\d)\b/g,"0$1"):d},parse:function(a){a=Date.parse(a.replace(/-/g,"/"));return isNaN(a)?null:new Date(a)}};a.fn={noop:function(){},bind:function(){var a,b,d;d=arguments[0];b=arguments[1];a=3<=arguments.length?n.call(arguments,2):[];return function(){var c;c=1<=arguments.length?n.call(arguments,0):[];return d.apply(b,a.concat(c))}},pass:function(){var a,
b;b=arguments[0];a=2<=arguments.length?n.call(arguments,1):[];return function(){var d;d=1<=arguments.length?n.call(arguments,0):[];return b.apply(this,a.concat(d))}},equal:function(a,b){return a===b},equalTo:function(a){return function(b){return a===b}}};a.array={make:function(b){var d,c,g,e;if(a.isArray(b))return b;e=[];c=0;for(g=b.length;c<g;c++)d=b[c],e.push(d);return e},forEach:function(a,b,d){var c,g,e;null==d&&(d=null);c=0;for(e=a.length;c<e;c++)g=a[c],b.call(d,g,c,a);return a},indexOf:function(b,
d,c){var g;null==c&&(c=0);a.isFunction(d)||(d=a.fn.equalTo(d));g=b.length;0>c&&(c+=g);for(c=Math.max(c,0);c<g;){if(d(b[c],c))return c;++c}return-1},lastIndexOf:function(b,d,c){var g;null==c&&(c=b.length-1);a.isFunction(d)||(d=a.fn.equalTo(d));g=b.length;0>c&&(c+=g);for(c=Math.min(c,g-1);-1<c;){if(d(b[c],c))return c;--c}return-1}};a.string={trim:function(a){return a.replace(/^\s+|\s+$/g,"")},fill:function(b,d){var c;c=a.isFunction(d)?d:function(b){return a.getOwn(d,b,"")};return b.replace(/#\{(\w+)\}/g,
function(a,b){return c(b)})}};b={};h=function(a){var b;b=a.replace(/\.|\*+/g,function(a){switch(a){case ".":return"\\.";case "*":return"\\w+";default:return".*"}});a=[];a.regex=RegExp("^"+b+"$");return a};a.subscribe=function(d,c,g,e){a.getOrMake(b,d,h).push(c=["string"===typeof c?g[c]:c,g,e]);return{name:d,info:c}};a.unsubscribe=function(d){var c;c=a.getOrCreate(b,d.name);d=a.array.indexOf(c,d.info);return-1<d&&c.splice(d,1)};a.publish=function(a,d){var c,g,e,f,n;for(e in b)if(c=b[e],c.regex.test(a))for(f=
0,n=c.length;f<n;f++)g=c[f],g[0].call(g[1],a,d,g[2]);return null};f=function(b,d){var c;c=a.getOrNew(b,"_eventTarget_",Object);return a.getOrNew(c,d,Array)};a.eventTarget={fireEvent:function(){var a,b,d,c,g,e;b=arguments[0];a=2<=arguments.length?n.call(arguments,1):[];b=f(this,b);c=!0;g=0;for(e=b.length;g<e;g++)d=b[g],!1===d.apply(this,a)&&(c=!1);return c},addEventListener:function(a,b){return f(this,a).push(b)},removeEventListener:function(b,d){var c,g;c=f(this,b);if(-1<(g=a.array.indexOf(c,d)))return c.splice(g,
1)}};a.alias(a.eventTarget,"fireEvent","trigger","triggerHandler");a.alias(a.eventTarget,"addEventListener","on");a.cookie={get:function(a){var b;return(b=document.cookie.match(RegExp("(^|; )"+a+"=([^;]*)")))?decodeURIComponent(b[2]):null},set:function(b,d,c){var g,e,f;null==c&&(c={});if(g=c.expires)a.isNumber(g)?(e=new Date,g=new Date(e.getTime()+864E5*g)):a.isFunction(g.toGMTString)||(g=!1),c.expires=g&&g.toGMTString();d=""+b+"="+encodeURIComponent(d);f=["expires","path","domain","secure"];g=0;
for(e=f.length;g<e;g++)b=f[g],b in c&&(d+="; "+b+"="+c[b]);return document.cookie=d},remove:function(b,d){return a.cookie.set(b,"deleted",a.merge(d,{expires:-1}))}};d=function(b){var c,g,e,f;switch(a.type(b)){case "object":g=[];for(c in b)t.call(b,c)&&(e=b[c],g.push(""+d(c)+":"+d(e)));return"{"+g.join(",")+"}";case "array":g=[];c=0;for(f=b.length;c<f;c++)e=b[c],g.push(d(e));return"["+g.join(",")+"]";case "string":return g=b.replace(/["\/\\\b\f\n\r\t\u0100-\uffff]/g,function(a){var b;switch(a){case '"':return'\\"';
case "/":return"\\/";case "\\":return"\\\\";case "\b":return"\\b";case "\f":return"\\f";case "\n":return"\\n";case "\r":return"\\r";case "\t":return"\\t";default:return"\\u"+(4096>(b=a.charCodeAt(0))?"0":"")+b.toString(16)}}),'"'+g+'"';case "number":case "boolean":case "null":return b+"";default:return"null"}};a.json={parse:"undefined"!==typeof JSON&&null!==JSON?JSON.parse:function(){return(new Function("return str"))()},stringify:"undefined"!==typeof JSON&&null!==JSON?JSON.stringify:d};a.Class=function(){var b;
if(arguments.length)return(b=a.Class).extend.apply(b,arguments)};e=!1;a.extend(a.Class,{setup:function(b){this.defaults=a.merge(!0,b.defaults,this.defaults);return arguments},extend:function(b,d,c){var g,f,n;"string"!==typeof b&&(n=[b,d,null],d=n[0],c=n[1],b=n[2]);c||(n=[d||{},null],c=n[0],d=n[1]);n=function(){var a;if(!e)return(a=this.klass).newInstance.apply(a,arguments)};b&&a.define(b,n);g=this.rawInstance();f=this.prototype;a.extend(g,c,{klass:n,constructor:n,base:function(b,d){var c;return null!=
(c=f[b])?c.apply(this,null!=d?d:a.array.make(arguments.callee.caller.arguments)):void 0}});a.extend(n,this,d,{fullName:b,prototype:g});g=n.setup.apply(n,[this].concat(a.array.make(arguments)));"function"===typeof n.init&&n.init.apply(n,g||[]);return n},proxy:function(){var b,d;d=arguments[0];b=2<=arguments.length?n.call(arguments,1):[];return a.proxy.apply(a,[this,d].concat(n.call(b)))},mixin:function(){var b;b=1<=arguments.length?n.call(arguments,0):[];return a.mixin.apply(a,[this.prototype].concat(n.call(b)))},
newInstance:function(){var b,d;d=this.rawInstance();d.setup&&(b=d.setup.apply(d,arguments));a.isArray(b)||(b=arguments);d.init&&d.init.apply(d,b);return d},rawInstance:function(){var a;e=!0;a=new this;e=!1;return a}});c=a.Class.proxy;a.Class.callback=c;a.Class.prototype.proxy=c;a.Class.prototype.callback=c;$(function(){var a;a=$.cleanData;return $.cleanData=function(b){var d,c,g;c=0;for(g=b.length;c<g;c++)d=b[c],null!=d&&d.length&&$(d).triggerHandler("destroyed");return a.call($,b)}});a.ajax={REQUESTQUEUE:"lvpingAjaxRequestQueue",
DEFAULT:"default",requestQueue:{},_queueRequest:function(a){var b;b=a[this.REQUESTQUEUE];this.requestQueue[b]||(this.requestQueue[b]=[]);this.requestQueue[b].push(a);return this}};a.ajax.request=function(a,b){var d;"object"===typeof a&&(d=[a,void 0],b=d[0]);b=b||{};b[this.REQUESTQUEUE]=b[this.REQUESTQUEUE]||this.DEFAULT;this._queueRequest(b);$.ajax(b);return this};a.array.forEach(["get","post"],function(b){return a.ajax[b]=function(a,d,c,g){$.isFunction(d)&&(d=[g||c,d,void 0],g=d[0],c=d[1],d=d[2]);
return this.request({type:b,url:a,data:d,success:c,dataType:g})}});a.ajax.getJSON=function(a,b){return this.get(a,void 0,b,"script")};a.ajax.getScript=function(a,b,d){return this.get(a,b,d,"json")};a.array.forEach("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b){return a.ajax[b]=function(a,d,c){var g;a=$(a);$.isFunction(d)&&(g=[d,void 0],c=g[0],d=g[1]);a[b](function(a,b,g){if(!d||g[this.REQUESTQUEUE]===d)return c(a,b,g)});return this}})}).call(this,this.lvping);
lvping.provide("lvping.ui.Control");
(function(a){var b,c,d,f,e,h,k,m,l,p,g,n=Array.prototype.slice,t=Object.prototype.hasOwnProperty;d=function(a,b,d,g){return g?f(a,g,b,d):c(a,b,d)};c=function(a,b,d){a.jquery||(a=$(a));a.bind(b,d);return function(){a.unbind(b,d);return a=b=d=null}};f=function(a,b,d,c){a.jquery||(a=$(a));a.delegate(b,d,c);return function(){a.undelegate(b,d,c);return a=b=d=c=null}};k=function(a,b){var d;d="string"===typeof b?a[b]:b;return function(){var b;b=1<=arguments.length?n.call(arguments,0):[];return d.apply(a,
[this].concat(b))}};e=function(a,b,c,g,e){return d(a,b,k(e,g),c)};m=function(b,d){var c;if(!d)return null;c=b.data("ui");if("string"===typeof c){c=a.trim(c);"{"!==c.charAt(0)&&(c="{"+c+"}");try{c=eval("("+c+")")}catch(g){c=null}}if(c)return a.getOwn(c,d)};h={};g="change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" ");l=0;for(p=g.length;l<p;l++)b=g[l],h[b]=e;h.ready=
function(a,b,d,c,g){return $(k(g,c))};h.subscribe=function(b,d,c,g,e){var f;f=a.subscribe(c,e.proxy(g));return function(){a.unsubscribe(f);return f=null}};b=a.Class.extend("lvping.ui.Control",{init:function(){var b,d,c,g;this.actions={};g=this.prototype;for(c in g)t.call(g,c)&&(d=g[c],a.isFunction(d)&&(b=this.getAction_(c)))&&(this.actions[c]=b);if(this.onDocument)return new this(document.documentElement)},isAction_:function(b){return h.hasOwnProperty(b)||a.array.indexOf(this.listensTo,-1<b)},getAction_:function(a){var b;
b=a.match(/^(?:(.*?)\s)?(\w+)$/);a=b[2];return this.isAction_(a)?{selector:b[1],event:a,processor:this.processors[a]||h[a]||e}:null},defaults:{},processors:{},listensTo:{}},{setup:function(b,d){var c,g,e;c=this.klass;b.jquery&&(b=b[0]);this.type=null!=(e=c.fullName)?e.split(".").pop().toLowerCase():void 0;this.element=$(b);this.bindings_=[];this.options=a.merge(!0,c.defaults,m(this.element,this.type),d);e=c.actions;for(g in e)t.call(e,g)&&(c=e[g],this.bindings_.push(c.processor(b,c.event,c.selector,
g,this)));return this.bind(b,"destroyed",k(this,"destroy"))},bind:function(a,b,d){"string"===typeof a&&(d=[this.element,a,b],a=d[0],b=d[1],d=d[2]);return this.binder_(a,b,d)},delegate:function(a,b,d,c){"string"===typeof a&&(a=[a,b,d,this.element],b=a[0],d=a[1],c=a[2],a=a[3]);return this.binder_(a,d,c,b)},binder_:function(a,b,c,g){"string"===typeof c&&(c=k(this,c));return this.bindings_.push(d(a,b,c,g))},destroy:function(){var b,d,c,g;g=this.bindings_;d=0;for(c=g.length;d<c;d++)b=g[d],a.isFunction(b)&&
b();this.element=null;return this.destroy=a.fn.noop},find:function(a){return this.element.find(a)},publish:function(b,d){null==d&&(d=this);a.publish(b,d);return this}});b.mixin(a.eventTarget);b.processors=h}).call(this,this.lvping);var bds_config={snsKey:{tsina:"1491333562",tqq:"801412986"}},isCanvasSupported=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))};
$(function(){$("body").append($('<div id="qcode_share"><a class="close" href="javascript:;"></a></div>'));$("body").on("click","#qcode_share .close",function(){$("#qcode_share").hide();isCanvasSupported()?$("#qcode_share canvas").remove():$("#qcode_share table").remove()});var a=[];a.push('<div id="bdshare" class="shareulbg_2 bdshare_t get-codes-bdshare" style="display: none;">');a.push('<a class="bds_tsina"><span>\u65b0\u6d6a\u5fae\u535a</span></a>');a.push('<a class="weibo" href="javascritp:;"><span>\u5fae\u4fe1</span></a>');
a.push('<a class="bds_renren"><span>\u4eba\u4eba\u7f51</span></a>');a.push('<a class="bds_qzone"><span>QQ\u7a7a\u95f4</span></a>');a.push("</div>");var b=$("#bdshare");0===b.length&&(b=$(a.join("")),b.appendTo(document.body));(function(){var a=document.createElement("script");a.type="text/javascript";a.id="bdshare_js";a.setAttribute("data","type=tools&amp;mini=1&amp;uid=6841276");var b=document.createElement("script");b.type="text/javascript";b.id="bdshell_js";var c=document.getElementsByTagName("script")[0];
c.parentNode.insertBefore(a,c);c.parentNode.insertBefore(b,c);document.getElementById("bdshell_js").src=""})();var c=0;$.fn.gsshare=function(a){$(this).gsbaseshare(a)};$.fn.gsbaseshare=function(a){function c(){b.hide()}function e(a){if(void 0==window._USER.userid)return a;window._USER.allianceid&&window._USER.sid&&(a="https://u.ctrip.com/union/CtripRedirect.aspx?TypeID=2&allianceid="+window._USER.allianceid+"&sid="+window._USER.sid+
"&ouid=&utm_medium=share&utm_campaign=you&utm_source=tourist&isctrip=&jumpUrl="+escape(a));return a}a=$.extend({api:"/ajax-data.php?act=share",url:location.href,title:document.title,pic:"https://youresource.c-ctrip.com/img/common/ctrip_logo_90x90.png",style:"shareulbg",countArea:"span",hasCount:!1,fixed:!1,top:!1,left:!1,offset:{top:0,left:0},requestFn:null,callback:function(){}},a);var h=function(c){a.fixed?b.css({position:"fixed"}):b.css({position:"absolute"});var e=c.offset(),f=e.top+a.offset.top,
e=e.left-c.outerWidth()/2+a.offset.left;c=c.height();f=a.top||f+c+3;e=a.left||e;b.css({top:f,left:e})};b.unbind();b.on("click",".weibo",function(a){a=$(this).offset();var d=$("#qcode_share").width(),e=b.data("curOpts"),h=a.left+d>window.screen.width;$("#qcode_share").css({top:a.top,left:h?a.left-d:a.left-d/2}).show();a=e.url?e.url:window.location.href;isCanvasSupported()?$("#qcode_share canvas").remove():$("#qcode_share table").remove();$("#qcode_share").qrcode({width:185,height:185,correctLevel:0,
render:isCanvasSupported()?"canvas":"table",text:a});c();return!1});b.on("click","a:not(.weibo)",function(){var e=b.data("curOpts"),h=b.data("obj"),l="";switch($(this).attr("class")){case "bds_tsina":l=0;break;case "bds_tqq":l=1;break;case "bds_renren":l=2;break;case "bds_qzone":l=3}if(e.hasCount){var p=h.find(e.countArea),g=parseInt(p.text(),10),g=isNaN(g)?0:g;g++;p.text(g)}e.callback(h);"function"===typeof a.requestFn?a.requestFn(h):(p=h.attr("data-shareId"),h=h.attr("data-shareCategory"),$.post(e.api,
{shareId:p,shareCategory:h,toCategory:l},function(a){}));c();return!1});return GS.ismoblie?($(document.body).on("click",function(){b.hide()}),this.each(function(){var c=$(this);c.on("click",function(f){h(c);var l=c.attr("data-share-title")||a.title,p=c.attr("data-share-pic")||a.pic,g=c.attr("data-share-url")||a.url,g=e(g);b.attr("data","{pic:'"+p+"',text:'"+l+"',url:'"+g+"'}");b.show();b.data("obj",c);b.data("curOpts",a);f.stopPropagation()});return this})):this.each(function(){var k=$(this),m=null;
k.hover(function(){h(k);var c=k.attr("data-share-title")||a.title,f=k.attr("data-share-pic")||a.pic,g=k.attr("data-share-url")||a.url,g=e(g);b.attr("data","{pic:'"+f+"',text:'"+c+"',url:'"+g+"'}");b.show()},function(){m=setTimeout(c,50);b.hover(function(){b.data("obj",k);b.data("curOpts",a);clearTimeout(m)},function(){b.hide()})});return this})};$.fn.gslike=function(a){a=$.extend({type:"gl",api:"/ajax-data.php?act=like"},a);return this.each(function(){var b=$(this),e=b.find("span").text(),h=$(this).attr("data-id");
0==c&&($("body").append($('<div id="gs_addone_1" class="gs_addone_1">+1</div>')),c++);$(this).on("click",function(){if(b.hasClass("a_popup_login"))return!1;if(b.hasClass("click_like"))return b.find("span").text("\u5df2\u559c\u6b22"),p=window.setTimeout(function(){b.find("span").text(e);window.clearTimeout(p)},2E3),!1;var c=$(this).offset(),m=c.top,l=c.left+40,p=null;$.ajax({url:a.api,type:"get",dataType:"text",async:!1,data:{writing:h,tps:"h",random:Math.random().toString()},timeout:5E4,error:function(a){},
success:function(a){var c=b.find("span").text();"-"==a.substr(0,1)?(b.find("span").text("\u5df2\u559c\u6b22"),p=window.setTimeout(function(){b.find("span").text(c);window.clearTimeout(p)},2E3)):(c++,$("#gs_addone_1").css({opacity:1,top:m,left:l,display:"block"}).animate({top:m-30,opacity:0},"slow"),b.find("span").text(c));b.addClass("click_like")}});return!1});return this})};$.fn.gsbaselike=function(a){a=$.extend({api:"/ajax-data.php?act=like",countArea:"span",requestFn:null,addoneDiff:{top:0,left:40},
callback:function(){}},a);return this.each(function(){var b=this,e=$(this);0==c&&($("body").append($('<div id="gs_addone_1" class="gs_addone_1">+1</div>')),c++);$(this).on("click",function(){if(!e.hasClass("click_like")&&!e.hasClass("a_popup_login")){var c=e.offset(),k=c.top,c=c.left+a.addoneDiff.left,m=e.find(a.countArea),l=parseInt(m.text(),10),l=isNaN(l)?0:l;l++;$("#gs_addone_1").css({opacity:1,top:k,left:c,display:"block"}).animate({top:k-30,opacity:0},"slow");m.text(l);e.addClass("click_like");
e.attr("title","\u5df2\u559c\u6b22");a.callback(b);"function"===typeof a.requestFn?a.requestFn(e):(k=e.attr("data-likeId")||"",c=e.attr("data-likeCategory")||"",$.post(a.api,{likeId:k,likeCategory:c},function(a){}))}});return this})};$.fn.gsbasecollect=function(a){a=$.extend({api:"/ajax-data.php?act=like",countArea:"span",requestFn:null,callback:function(){}},a);return this.each(function(){var b=this,e=$(this);0==c&&($("body").append($('<div id="gs_addone_1" class="gs_addone_1">+1</div>')),c++);$(this).on("click",
function(){if(!e.hasClass("click_collect")&&!e.hasClass("a_popup_login")){var c=e.offset(),k=c.top,c=c.left+40,m=e.find(a.countArea),l=parseInt(m.text(),10),l=isNaN(l)?0:l;l++;$("#gs_addone_1").css({opacity:1,top:k,left:c,display:"block"}).animate({top:k-30,opacity:0},"slow");m.text(l);e.addClass("click_collect");e.attr("title","\u5df2\u6536\u85cf");"function"===typeof a.requestFn?a.requestFn(e):(k=e.attr("data-favouriteId")||"",c=e.attr("data-favouriteCategory")||"",a.callback(b),$.post(a.api,{favouriteId:k,
favouriteCategory:c},function(a){}))}});return this})}});
$(function(){var a=null,b={},c={};gs_report_close=function(){$.popupbox.close();$("#gsn_frame_report").remove();window.clearTimeout(a)};$("body").on("click",".gsn_btn_report",function(){if("\u5df2\u4e3e\u62a5"!=$(this).text()&&!$(this).hasClass("a_popup_login")){c=$(this);var a=[];a.push('<div id="gsn_frame_report" class="gsn-layer" style="display:none">');a.push('<a href="javascript:gs_report_close();" class="close" data-close="gsn_frame_report"></a>');a.push('<div class="gsn-form">');a.push("<h3>\u4e3e\u62a5</h3>");
a.push("<ul>");a.push('<li><input type="radio" name="reportType" value="0" id="r_0"><label for="r_0">\u5e7f\u544a\u5e16\u548c\u704c\u6c34\u5e16</label></li>');a.push('<li><input type="radio" name="reportType" value="1" id="r_1"><label for="r_1">\u8c29\u9a82\u3001\u8bfd\u8c24\u548c\u804a\u5929\u5e16</label></li>');a.push('<li><input type="radio" name="reportType" value="2" id="r_2"><label for="r_2">\u8fdd\u53cd\u56fd\u5bb6\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u7684\u5185\u5bb9</label></li>');a.push('<li><input type="radio" name="reportType" value="3" id="r_3"><label for="r_3">\u5176\u4ed6\u95ee\u9898</label></li></ul>');
a.push('<div class="gsn-inputbox"><p>\u5177\u4f53\u63cf\u8ff0</p><textarea id="content" name="content" class="gsn-textarea"></textarea></div>');a.push('<div class="gsn-inputbox"><span class="gsn-tiptext" id="report_err_tips">&nbsp;</span><button id="report_submit" type="submit" class="gsn-btn-2">\u63d0\u4ea4</button></div>');a.push("</div></div>");$("body").append($(a.join("")));$.popupbox.show({id:"gsn_frame_report"});b=$(this).data()}});$("body").on("click","#gsn_frame_report .gsn-btn-2",function(d){var f=
this;d=$(':radio[name="reportType"]:checked').val();if(void 0==d)$("#report_err_tips").html("\u8bf7\u9009\u62e9\u6295\u8bc9\u7c7b\u578b\uff01");else{var e=$("#content").val();if("3"===d&&10>=e.length)$("#report_err_tips").html("\u8bf7\u586b\u5199\u5176\u4ed6\u95ee\u9898\u7684\u5177\u4f53\u5185\u5bb9(\u81f3\u5c1110\u4e2a\u5b57\u7b26)"),$("#content").focus();else{$("#report_err_tips").html("&nbsp;");$(this).removeClass().addClass("gsn-btn-8").html('<img src="https://youresource.c-ctrip.com/img/load.gif">').prop("disabled",
!0);var h=location.href+(k?"#browseMes":""),k=$("#reply").length?$("#reply").val():0,k=(new Date).getTime();d={url:h,reportType:d,content:escape(e),reportId:0,ct:"",con:"",r:k};$.extend(d,b);$.ajax({url:"/AjaxNew/AjaxComplain.ashx",type:"get",dataType:"text",async:!1,data:d,timeout:5E4,error:function(a){alert("\u4e3e\u62a5\u5931\u8d25");$(f).removeClass().addClass("gsn-btn-2").html("\u63d0\u4ea4").prop("disabled",!1)},success:function(b){"true"==b?($("#gsn_frame_report .gsn-form").html('<h3>\u4e3e\u62a5\u5df2\u7ecf\u53d1\u9001</h3><br><p>\u6211\u4eec\u6536\u5230\u4f60\u7684\u6295\u8bc9\u4fe1\u606f\u540e\u4f1a\u7acb\u5373\u8fdb\u884c\u5ba1\u6838\u5e76\u5904\u7406\uff0c\u611f\u8c22\u4f60\u5bf9\u6211\u4eec\u7684\u652f\u6301\uff01</p><p style="color:#999; font-size:12px; margin-top:30px;">\u672c\u63d0\u793a\u4f1a\u5728 3 \u79d2\u540e\u81ea\u52a8\u5173\u95ed...</p>'),
$("#gsn_frame_report").animate({width:400,height:160},500),a=window.setTimeout(function(){gs_report_close()},3E3),c.html("\u5df2\u4e3e\u62a5")):(alert("\u4e3e\u62a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u8f93\u5165\u7684\u9879\u662f\u5426\u5408\u6cd5"),$(f).removeClass().addClass("gsn-btn-2").html("\u63d0\u4ea4").prop("disabled",!1))}})}return!1}})});
(function(a){a.fn.gsInputLen=function(b){var c=a(this);c.bind("keyup change mousedown blur focus",function(){var a=c.val().replace(/\s/ig,"x").replace(/[^x00-xff]/g,"xx"),a=Math.ceil(a.length/2);b(a,c)});return this};a.gsSubstring=function(a,c,d){d&&(c*=2);d=0;for(var f="",e=0;e<a.length&&!(128<a.charCodeAt(e)?d+=2:d++,f+=a.charAt(e),d>=c);e++);return f}})(jQuery);
(function(a){a.fn.gsdisable=function(b){b=a.extend({disable:"gsn-btn-8",text:'<img class="btn_ajax" src="https://youresource.c-ctrip.com/img/load.gif" alt="...">',time:3E3,callback:function(){}},b);var c=a(this),d=c.attr("class"),f=c.html();0==c.data("isOne")&&(b.callback&&b.callback(),c.data("isOne",1),c.attr("class",b.disable),c.html(b.text),window.setTimeout(function(){c.data("isOne","0");c.attr("class",d);c.html(f)},b.time));return this};a(function(){a("[data-onsubmit]").each(function(){a(this).data("isOne",
0)})})})(jQuery);
(function(a,b,c){function d(a){return a}function f(a){a=decodeURIComponent(a.replace(e," "));0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));return a}var e=/\+/g,h=a.cookie=function(e,m,l){if(m!==c){l=a.extend({},h.defaults,l);null===m&&(l.expires=-1);if("number"===typeof l.expires){var p=l.expires,g=l.expires=new Date;g.setDate(g.getDate()+p)}m=h.json?JSON.stringify(m):String(m);return b.cookie=[encodeURIComponent(e),"=",h.raw?m:encodeURIComponent(m),l.expires?"; expires="+
l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}m=h.raw?d:f;l=b.cookie.split("; ");for(var p=e?null:{},g=0,n=l.length;g<n;g++){var t=l[g].split("="),v=m(t.shift()),t=m(t.join("="));if(e&&e===v){p=h.json?JSON.parse(t):t;break}e||(p[v]=h.json?JSON.parse(t):t)}return p};h.defaults={};a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}})(jQuery,document);lvping.require("lvping.ui.Control");lvping.provide("lvping.ui.Suggest");
(function(a){lvping.ui.Control.extend("lvping.ui.Suggest",{defaults:{dataUrl:null,defaultValue:null,queryName:null,callbackFn:function(){},diffTop:0,diffLeft:0,storeKey:"notsupportcookie",storeCount:5,lastData:null}},{isRounding:!1,kCode:{ENTER:13,UP:38,DOWN:40,ESC:27},init:function(){this.dataCache={};this.initTextinput();this.initContainer();this.setContaineroffset()},initTextinput:function(){this.element.attr("autocomplete","off");this.setDefault();this.bind("focus","onFocus");this.bind("blur",
"onBlur");a.browser.mozilla?this.bind("keyup","onKeydown"):this.bind("keydown","onKeydown");this.hiddenInput=a('input[hiddenforid="'+this.element.attr("id")+'"]')},onFocus:function(){if(this.element.val()==this.options.defaultValue||""==this.element.val())this.element.val(""),this.element.removeClass("sgtgray").addClass("sgtblack"),this.showCoolieItem(!0)},onBlur:function(){if(this.element.val()==this.options.defaultValue||""==this.element.val())this.element.removeClass("sgtblack").addClass("sgtgray"),
this.element.val(this.options.defaultValue),this.element.attr("selectedvalue",""),this.element.attr("code","");this.stop();this.hide();if(this.options.lastData){var a=this;window.setTimeout(function(){a.oneValueSet()},100)}},onKeydown:function(b,c){switch(c.keyCode){case this.kCode.UP:return this.isRounding&&this.stop(),this.selectContent("up"),c.preventDefault(),!1;case this.kCode.DOWN:return this.isRounding&&this.stop(),this.selectContent("down"),c.preventDefault(),!1;case this.kCode.ENTER:return this.selectedItem&&
this.setValues(a(this.selectedItem)),!1;case this.kCode.ESC:return!1;default:this.start()}},initContainer:function(){if(!("undefined"!=typeof b&&0<b.length&&b.attr("id"))){var b=a("<div>").attr("class","sgt-address").attr("id",this.element.attr("id")+"Con");containerList=a("<div>").attr("class","sgt-address-list");this.conTainer=b;this.containerList=containerList;b.append(containerList).appendTo(a("body"))}},setContaineroffset:function(){var a=this.element.offset(),c=this.element.outerHeight();this.conTainer.css({top:a.top+
c+this.options.diffTop,left:a.left+this.options.diffLeft})},setDefault:function(){""==this.element.val()&&(this.element.val(this.options.defaultValue),this.element.removeClass("sgtblack").addClass("sgtgray"))},start:function(){this.timeCounter=setTimeout(jQuery.proxy(this.changeContent,this),200);this.isRounding=!0},stop:function(){0!=this.timeCounter&&clearTimeout(this.timeCounter);this.isRounding=!1},changeContent:function(){var b=this.element.val();a.trim(b)?(this.showCoolieItem(!1),void 0!==this.dataCache[b]?
this.fillContainer(this.dataCache[b]):this.getData(b)):this.hide()},getData:function(b){var c={},d=this;c[this.options.queryName]=escape(b);a.getJSON(this.options.dataUrl+"&Jsoncallback=?",c,function(a){d.options.lastData=a.data;jQuery.proxy(d.fillContainer(a),d);jQuery.proxy(d.fillContainer(a),d);jQuery.proxy(d.addCache(b,a),d)})},addCache:function(a,c){this.dataCache[a]=[];this.dataCache[a]=c},sugContainer:function(a){for(var c=[],d=12<a.data.length?12:a.data.length,f=0;f<d;f++)c.push('<a href="javascript:void(0);" code="'+
a.data[f].code+'"><span>'+a.data[f].py+"</span><strong>"+a.data[f].address+"</strong></a>");return c.join("")},choseValue:function(b,c){var d=a(c.target);d.is("a")||(d=d.closest("a"));this.setValues(d)},setValues:function(a){this.element.val("");this.element.val(a.find("strong").html());this.hiddenInput.val(a.attr("code"));this.element.attr("code",a.attr("code"));this.element.attr("selectedvalue",a.find("strong").html());this.addToCookie(a);this.options.callbackFn&&this.options.callbackFn(a);try{this.onBlur()}catch(c){}},
oneValueSet:function(){this.dataCache=[];if(1==this.options.lastData.length){var a=this.options.lastData[0];this.element.val(a.address);this.hiddenInput.val(a.code);this.element.attr("code",a.code);this.element.attr("selectedvalue",a.address);this.options.lastData=null}},selectContent:function(b){var c=this.containerList.find("a");this.selectedItem?(b=c[c.index(this.selectedItem)+("down"==b?1:-1)],a(this.selectedItem).removeClass("current")):b=c["down"==b?0:c.length-1];b?(a(b).addClass("current"),
this.selectedItem=b):this.selectedItem=void 0},setNoblur:function(a,c){var d=this.element;this.element.bind("beforedeactivate",function(){window.event.cancelBubble=!0;window.event.returnValue=!1;d.unbind("beforedeactivate")});c.preventDefault()},fillContainer:function(a){this.selectedItem=void 0;this.containerList.html("").append(this.sugContainer(a));this.bind(this.conTainer,"mousedown","setNoblur");this.bind(this.containerList.find("a"),"click","choseValue");this.show();a=this.element.offset();
var c=this.element.outerHeight();this.conTainer.css({top:a.top+c,left:a.left})},show:function(){a.trim(this.containerList.html())?this.conTainer.show():this.conTainer.hide()},hide:function(){this.containerList.html("");this.conTainer.hide()},addToCookie:function(b){if("notsupportcookie"==this.options.storeKey||!a.cookie)return!1;var c="key"+b.attr("code"),d=b.find("strong").html(),f=b.find("span").html();if((b=this.getFromCookie())&&""!=b){if(b[c])return!1;var e=0,h;for(h in b)e++,e>this.options.storeCount-
1&&(b[h]=void 0,delete b[h])}else b={};b[c]=d+"|"+f;var c=[],k;for(k in b)c.push(k+"|"+b[k]);a.cookie(this.options.storeKey,c.join("&"),{expires:30})},getFromCookie:function(){if("notsupportcookie"==this.options.storeKey||!a.cookie||!a.cookie)return!1;var b=null;try{var c=a.cookie(this.options.storeKey)}catch(d){}if(c&&""!=c)for(var b={},c=c.split("&"),f=0;f<c.length;f++){var e=c[f].split("|");b[e[0]]=e[1]+"|"+e[2]}return b},showCoolieItem:function(b){if("notsupportcookie"==this.options.storeKey||
!a.cookie)return!1;if(b){if(b=this.getFromCookie()){var c=[],d;for(d in b){var f=d.replace("key",""),e=b[d].split("|")[0],h=b[d].split("|")[1];c.push('<a class="cookieselect" href="javascript:void(0);" code="'+f+'"><span>'+h+"</span><strong>"+e+"</strong></a>")}this.selectedItem=void 0;this.containerList.html("").append(c.join(""));this.bind(this.conTainer,"mousedown","setNoblur");this.bind(this.containerList.find("a"),"click","choseValue");this.show()}}else this.containerList.html(""),this.show()}})}).call(this,
jQuery);
$.fn.resetPlaceholder=function(a){if("placeholder"in document.createElement("input"))return this;var b=a||{},c=$(this);a="holderfor"+c.attr("id");var d=c.attr("placeholder"),f=c.offset(),e=10,h=5;b.spaceTop&&(e=b.spaceTop);b.spaceLeft&&(h=b.spaceLeft);var k="";b.zindex&&(k="z-index:"+b.zindex);e+=f.top;h+=f.left;$("body").append($('<span style="position:absolute;display:block;color:#999;font-size:14px;top:'+e+"px;left:"+h+"px;"+k+'" id="'+a+'">'+d+"</span>"));var m=$("#"+a);m.bind("click",function(){$(this).hide();
c.focus()});c.bind("mousedown focus",function(){m.hide()});var l=function(){c.val()==d||""==c.val()?m.show():m.hide()};b.delay&&$("body").bind("click",function(){setTimeout(function(){l()},b.delay);return!0});c.bind("blur change",function(a){b.delay?setTimeout(function(){l()},b.delay):l()});return this};
(function(a){a.fn.placeholder=function(b){if("placeholder"in document.createElement("input"))return this;b=a.extend({incolor:"#aaa",outcolor:"#333",callback:function(){}},b);return this.each(function(){var c=a(this),d=a(this).attr("placeholder"),f=a(this).attr("value"),e={color:b.incolor};""!=f&&f!=d||a(this).val(d).css(e);c.on("focusin",function(a){c.val()==d&&c.val("");c.css({color:"#333"})});c.on("focusout",function(a){""==c.val()||c.val()==d?c.val(d).css(e):c.css({color:"#333"})});return this})}})(jQuery);
(function(a){a.fn.simpleUpload=function(b,c,d){b=a.extend({site:"https://youresource.c-ctrip.com",debug:!1,custom_settings:{progressTarget:""},button_placeholder_id:a(this).attr("id"),upload_url:"https://youimgupload.ctrip.com/uploadphotosvc/photoupload.ashx",file_size_limit:"5 MB",file_types:"*.jpg;*.jpeg;*.bmp;*.gif;*.png",file_types_description:"JPG Images",file_upload_limit:0,button_image_url:"/img/member/editor/bg-swfuploadimg.png",button_width:74,button_height:24,button_cursor:SWFUpload.CURSOR.HAND,
button_text:'<span class="button"></span>',button_text_style:".button {font-size: 12;}",button_text_top_padding:1,button_text_left_padding:5,flash_url:"https://youimgupload.ctrip.com/uploadphotosvc/images/swfupload_fp9.swf",file_queued_handler:function(a){},file_queue_error_handler:function(a,b,c){try{switch(b){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:alert("\u9009\u62e9\u7684\u56fe\u7247\u592a\u5927\uff0c\u53ea\u80fd\u4e0a\u4f20\u5c0f\u4e8e5M\u7684\u56fe\u7247");break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:alert("\u65e0\u6548\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u53ea\u80fd\u4e0a\u4f20jpg,png,gif\u683c\u5f0f");
break;default:alert(c)}}catch(d){}},file_dialog_complete_handler:function(a,b){try{0<b&&this.startUpload()}catch(c){this.debug(c)}},upload_start_handler:function(a){},upload_progress_handler:function(b,c,d){this.customSettings.progressTarget&&(b=Math.ceil(100*(c/d)),a("#"+this.customSettings.progressTarget).html(b+"%"))},upload_error_handler:function(b,c,f){this.customSettings.progressTarget&&a("#"+this.customSettings.progressTarget).html("");if("function"===typeof d)d(b,c,f);else try{alert("errorCode"+
c+":"+f)}catch(m){this.debug(m)}},upload_success_handler:function(a,b){"function"===typeof c&&c(a,b)},upload_complete_handler:function(b){this.customSettings.progressTarget&&a("#"+this.customSettings.progressTarget).html("")}},b);var f=(new Date).getTime();b.button_image_url=b.site+b.button_image_url+"?"+f;new SWFUpload(b);return this}})(jQuery);var SWFUpload,swfobject;void 0==SWFUpload&&(SWFUpload=function(a){this.initSWFUpload(a)});
SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings={},this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(a),this.loadSupport(),this.swfuploadPreload()&&this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b;}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.5.0 2010-01-15 Beta 2";
SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2};
SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2};
SWFUpload.completeURL=function(a){try{var b="",c=-1;if("string"!==typeof a||a.match(/^https?:\/\//i)||a.match(/^\//)||""===a)return a;c=window.location.pathname.lastIndexOf("/");b=0>=c?"/":window.location.pathname.substr(0,c)+"/";return b+a}catch(d){return a}};SWFUpload.onload=function(){};
SWFUpload.prototype.initSettings=function(a){this.ensureDefault=function(b,c){var d=a[b];this.settings[b]=void 0!=d?d:c};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",!1);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",!1);this.ensureDefault("requeue_on_error",!1);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description",
"All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("flash9_url","swfupload_fp9.swf");this.ensureDefault("prevent_swf_caching",!0);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",!1);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",!1);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_preload_handler",null);this.ensureDefault("swfupload_load_failed_handler",null);this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_resize_start_handler",null);this.ensureDefault("upload_start_handler",
null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("mouse_click_handler",null);this.ensureDefault("mouse_out_handler",null);this.ensureDefault("mouse_over_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;this.settings.prevent_swf_caching&&
(this.settings.flash_url=this.settings.flash_url+(0>this.settings.flash_url.indexOf("?")?"?":"&")+"preventswfcaching="+(new Date).getTime(),this.settings.flash9_url=this.settings.flash9_url+(0>this.settings.flash9_url.indexOf("?")?"?":"&")+"preventswfcaching="+(new Date).getTime());this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url));delete this.ensureDefault};
SWFUpload.prototype.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}};
SWFUpload.prototype.loadFlash=function(){var a,b,c;if(this.support.loading)if(null!==document.getElementById(this.movieName))this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"]);else if(a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==a)this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["button place holder not found"]);else{b="block"!==(a.currentStyle&&a.currentStyle.display||
window.getComputedStyle&&document.defaultView.getComputedStyle(a,null).getPropertyValue("display"))?"span":"div";b=document.createElement(b);c=this.getFlashHTML();try{b.innerHTML=c}catch(d){this.support.loading=!1;this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"]);return}c=b.getElementsByTagName("object");!c||1<c.length||0===c.length?(this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])):
(1===c.length&&(this.movieElement=c[0]),a.parentNode.replaceChild(b.firstChild,a),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement()))}else this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"])};
SWFUpload.prototype.getFlashHTML=function(a){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" />',
'<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};
SWFUpload.prototype.getFlashVars=function(){var a,b;b=this.buildParamString();a=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(a),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),
"&amp;params=",encodeURIComponent(b),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName));if(null===this.movieElement)throw"Could not find Flash element";return this.movieElement};
SWFUpload.prototype.buildParamString=function(){var a,b,c=[];b=this.settings.post_params;if("object"===typeof b)for(a in b)b.hasOwnProperty(a)&&c.push(encodeURIComponent(a.toString())+"="+encodeURIComponent(b[a].toString()));return c.join("&amp;")};
SWFUpload.prototype.destroy=function(){var a;try{this.cancelUpload(null,!1);if(a=this.cleanUp())try{a.parentNode.removeChild(a)}catch(b){}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return!0}catch(c){return!1}};
SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tflash9_url:                ",this.settings.flash9_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",
this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",
this.settings.file_queue_limit,"\n\tdebug:                    ",this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",
this.settings.button_height.toString(),"\n\tbutton_text:              ",this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_cursor:            ",this.settings.button_cursor.toString(),"\n\tbutton_disabled:          ",
this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_preload_handler assigned:  ",("function"===typeof this.settings.swfupload_preload_handler).toString(),"\n\tswfupload_load_failed_handler assigned:  ",("function"===typeof this.settings.swfupload_load_failed_handler).toString(),"\n\tswfupload_loaded_handler assigned:  ",("function"===typeof this.settings.swfupload_loaded_handler).toString(),"\n\tmouse_click_handler assigned:       ",
("function"===typeof this.settings.mouse_click_handler).toString(),"\n\tmouse_over_handler assigned:        ",("function"===typeof this.settings.mouse_over_handler).toString(),"\n\tmouse_out_handler assigned:         ",("function"===typeof this.settings.mouse_out_handler).toString(),"\n\tfile_dialog_start_handler assigned: ",("function"===typeof this.settings.file_dialog_start_handler).toString(),"\n\tfile_queued_handler assigned:       ",("function"===typeof this.settings.file_queued_handler).toString(),
"\n\tfile_queue_error_handler assigned:  ",("function"===typeof this.settings.file_queue_error_handler).toString(),"\n\tupload_resize_start_handler assigned:      ",("function"===typeof this.settings.upload_resize_start_handler).toString(),"\n\tupload_start_handler assigned:      ",("function"===typeof this.settings.upload_start_handler).toString(),"\n\tupload_progress_handler assigned:   ",("function"===typeof this.settings.upload_progress_handler).toString(),"\n\tupload_error_handler assigned:      ",
("function"===typeof this.settings.upload_error_handler).toString(),"\n\tupload_success_handler assigned:    ",("function"===typeof this.settings.upload_success_handler).toString(),"\n\tupload_complete_handler assigned:   ",("function"===typeof this.settings.upload_complete_handler).toString(),"\n\tdebug_handler assigned:             ",("function"===typeof this.settings.debug_handler).toString(),"\nSupport:\n\tLoad:                     ",this.support.loading?"Yes":"No","\n\tImage Resize:             ",
this.support.imageResize?"Yes":"No","\n"].join(""))};SWFUpload.prototype.addSetting=function(a,b,c){return void 0==b?this.settings[a]=c:this.settings[a]=b};SWFUpload.prototype.getSetting=function(a){return void 0!=this.settings[a]?this.settings[a]:""};
SWFUpload.prototype.callFlash=function(a,b){var c,d,f;b=b||[];c=this.getMovieElement();try{void 0!=c?(f=c.CallFunction('<invoke name="'+a+'" returntype="javascript">'+__flash__argumentsToXML(b,0)+"</invoke>"),d=eval(f)):this.debug("Can't call flash because the movie wasn't found.")}catch(e){this.debug("Exception calling flash function '"+a+"': "+e.message)}void 0!=d&&"object"===typeof d.post&&(d=this.unescapeFilePostParams(d));return d};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};
SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])};SWFUpload.prototype.startResizedUpload=function(a,b,c,d,f,e){this.callFlash("StartUpload",[a,{width:b,height:c,encoding:d,quality:f,allowEnlarging:e}])};SWFUpload.prototype.cancelUpload=function(a,b){!1!==b&&(b=!0);this.callFlash("CancelUpload",[a,b])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};
SWFUpload.prototype.requeueUpload=function(a){return this.callFlash("RequeueUpload",[a])};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])};SWFUpload.prototype.getFile=function(a){return"number"===typeof a?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])};
SWFUpload.prototype.getQueueFile=function(a){return"number"===typeof a?this.callFlash("GetFileByQueueIndex",[a]):this.callFlash("GetFile",[a])};SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])};SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])};SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString();this.callFlash("SetUploadURL",[a])};
SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a;this.callFlash("SetPostParams",[a])};SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a];this.callFlash("SetPostParams",[this.settings.post_params])};
SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a;this.settings.file_types_description=b;this.callFlash("SetFileTypes",[a,b])};SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a;this.callFlash("SetFileSizeLimit",[a])};SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a;this.callFlash("SetFileUploadLimit",[a])};
SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a;this.callFlash("SetFileQueueLimit",[a])};SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a;this.callFlash("SetFilePostName",[a])};SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a;this.callFlash("SetUseQueryString",[a])};SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a;this.callFlash("SetRequeueOnError",[a])};
SWFUpload.prototype.setHTTPSuccess=function(a){"string"===typeof a&&(a=a.replace(" ","").split(","));this.settings.http_success=a;this.callFlash("SetHTTPSuccess",[a])};SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a;this.callFlash("SetAssumeSuccessTimeout",[a])};SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a;this.callFlash("SetDebugEnabled",[a])};
SWFUpload.prototype.setButtonImageURL=function(a){void 0==a&&(a="");this.settings.button_image_url=a;this.callFlash("SetButtonImageURL",[a])};SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a;this.settings.button_height=b;var c=this.getMovieElement();void 0!=c&&(c.style.width=a+"px",c.style.height=b+"px");this.callFlash("SetButtonDimensions",[a,b])};SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a;this.callFlash("SetButtonText",[a])};
SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b;this.settings.button_text_left_padding=a;this.callFlash("SetButtonTextPadding",[a,b])};SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a;this.callFlash("SetButtonTextStyle",[a])};SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a;this.callFlash("SetButtonDisabled",[a])};
SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a;this.callFlash("SetButtonAction",[a])};SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a;this.callFlash("SetButtonCursor",[a])};
SWFUpload.prototype.queueEvent=function(a,b){var c=this;void 0==b?b=[]:b instanceof Array||(b=[b]);if("function"===typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(null!==this.settings[a])throw"Event handler "+a+" is unknown or is not a function";};SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;"function"===typeof a&&a.apply(this)};
SWFUpload.prototype.unescapeFilePostParams=function(a){var b=/[$]([0-9a-f]{4})/i,c={},d,f,e;if(void 0!=a){for(f in a.post)if(a.post.hasOwnProperty(f)){for(d=f;null!==(e=b.exec(d));)d=d.replace(e[0],String.fromCharCode(parseInt("0x"+e[1],16)));c[d]=a.post[f]}a.post=c}return a};
SWFUpload.prototype.swfuploadPreload=function(){var a;if("function"===typeof this.settings.swfupload_preload_handler)a=this.settings.swfupload_preload_handler.call(this);else if(void 0!=this.settings.swfupload_preload_handler)throw"upload_start_handler must be a function";void 0===a&&(a=!0);return!!a};SWFUpload.prototype.flashReady=function(){this.cleanUp()?this.queueEvent("swfupload_loaded_handler"):this.debug("Flash called back ready but the flash movie can't be found.")};
SWFUpload.prototype.cleanUp=function(){var a,b=this.getMovieElement();try{if(b&&"unknown"===typeof b.CallFunction)for(a in this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)"),b)try{"function"===typeof b[a]&&(b[a]=null)}catch(c){}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}};return b};SWFUpload.prototype.mouseClick=function(){this.queueEvent("mouse_click_handler")};SWFUpload.prototype.mouseOver=function(){this.queueEvent("mouse_over_handler")};
SWFUpload.prototype.mouseOut=function(){this.queueEvent("mouse_out_handler")};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("file_queued_handler",a)};SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("file_queue_error_handler",[a,b,c])};
SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])};SWFUpload.prototype.uploadResizeStart=function(a,b){a=this.unescapeFilePostParams(a);this.queueEvent("upload_resize_start_handler",[a,b.width,b.height,b.encoding,b.quality])};SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("return_upload_start_handler",a)};
SWFUpload.prototype.returnUploadStart=function(a){var b;if("function"===typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===b&&(b=!0);this.callFlash("ReturnUploadStart",[!!b])};SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_progress_handler",[a,b,c])};
SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_error_handler",[a,b,c])};SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_success_handler",[a,b,c])};SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("upload_complete_handler",a)};SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)};
SWFUpload.prototype.debugMessage=function(a){var b,c;if(this.settings.debug){b=[];if("object"===typeof a&&"string"===typeof a.name&&"string"===typeof a.message){for(c in a)a.hasOwnProperty(c)&&b.push(c+": "+a[c]);a=b.join("\n")||"";b=a.split("\n");a="EXCEPTION: "+b.join("\nEXCEPTION: ")}SWFUpload.Console.writeLine(a)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById("SWFUpload_Console"),b||(c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",c.appendChild(b)),b.value+=a+"\n",b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+
d.name+" Message: "+d.message)}};
swfobject=function(){function a(){if(!F){try{var a=r.getElementsByTagName("body")[0].appendChild(r.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}F=!0;for(var a=I.length,c=0;c<a;c++)I[c]()}}function b(a){F?a():I[I.length]=a}function c(a){if(typeof z.addEventListener!=u)z.addEventListener("load",a,!1);else if(typeof r.addEventListener!=u)r.addEventListener("load",a,!1);else if(typeof z.attachEvent!=u)t(z,"onload",a);else if("function"==typeof z.onload){var b=z.onload;z.onload=function(){b();
a()}}else z.onload=a}function d(){var a=r.getElementsByTagName("body")[0],b=r.createElement(y);b.setAttribute("type",A);var c=a.appendChild(b);if(c){var d=0;(function(){if(typeof c.GetVariable!=u){var g=c.GetVariable("$version");g&&(g=g.split(" ")[1].split(","),q.pv=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;f()})()}else f()}function f(){var a=D.length;if(0<a)for(var b=0;b<a;b++){var c=D[b].id,d=D[b].callbackFn,
g={success:!1,id:c};if(0<q.pv[0]){var f=n(c);if(f)if(!v(D[b].swfVersion)||q.wk&&312>q.wk)if(D[b].expressInstall&&h()){g={};g.data=D[b].expressInstall;g.width=f.getAttribute("width")||"0";g.height=f.getAttribute("height")||"0";f.getAttribute("class")&&(g.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(g.align=f.getAttribute("align"));for(var t={},f=f.getElementsByTagName("param"),l=f.length,w=0;w<l;w++)"movie"!=f[w].getAttribute("name").toLowerCase()&&(t[f[w].getAttribute("name")]=f[w].getAttribute("value"));
k(g,t,c,d)}else m(f),d&&d(g);else x(c,!0),d&&(g.success=!0,g.ref=e(c),d(g))}else x(c,!0),d&&((c=e(c))&&typeof c.SetVariable!=u&&(g.success=!0,g.ref=c),d(g))}}function e(a){var b=null;(a=n(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=u?b=a:(a=a.getElementsByTagName(y)[0])&&(b=a));return b}function h(){return!J&&v("6.0.65")&&(q.win||q.mac)&&!(q.wk&&312>q.wk)}function k(a,b,c,d){J=!0;M=d||null;O={success:!1,id:c};var g=n(c);if(g){"OBJECT"==g.nodeName?(H=l(g),K=null):(H=g,K=c);a.id=s;if(typeof a.width==
u||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==u||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";r.title=r.title.slice(0,47)+" - Flash Player Installation";d=q.ie&&q.win?"ActiveX":"PlugIn";d="MMredirectURL="+z.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+r.title;b.flashvars=typeof b.flashvars!=u?b.flashvars+("&"+d):d;q.ie&&(q.win&&4!=g.readyState)&&(d=r.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),g.parentNode.insertBefore(d,
g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());p(a,b,c)}}function m(a){if(q.ie&&q.win&&4!=a.readyState){var b=r.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(l(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(l(a),a)}function l(a){var b=r.createElement("div");if(q.win&&q.ie)b.innerHTML=a.innerHTML;
else if(a=a.getElementsByTagName(y)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)1==a[d].nodeType&&"PARAM"==a[d].nodeName||8==a[d].nodeType||b.appendChild(a[d].cloneNode(!0));return b}function p(a,b,c){var d,g=n(c);if(q.wk&&312>q.wk)return d;if(g)if(typeof a.id==u&&(a.id=c),q.ie&&q.win){var e="",f;for(f in a)a[f]!=Object.prototype[f]&&("data"==f.toLowerCase()?b.movie=a[f]:"styleclass"==f.toLowerCase()?e+=' class="'+a[f]+'"':"classid"!=f.toLowerCase()&&(e+=" "+f+'="'+a[f]+'"'));f="";for(var h in b)b[h]!=
Object.prototype[h]&&(f+='<param name="'+h+'" value="'+b[h]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+f+"</object>";L[L.length]=a.id;d=n(a.id)}else{h=r.createElement(y);h.setAttribute("type",A);for(var v in a)a[v]!=Object.prototype[v]&&("styleclass"==v.toLowerCase()?h.setAttribute("class",a[v]):"classid"!=v.toLowerCase()&&h.setAttribute(v,a[v]));for(e in b)b[e]!=Object.prototype[e]&&"movie"!=e.toLowerCase()&&(a=h,f=e,v=b[e],c=r.createElement("param"),
c.setAttribute("name",f),c.setAttribute("value",v),a.appendChild(c));g.parentNode.replaceChild(h,g);d=h}return d}function g(a){var b=n(a);b&&"OBJECT"==b.nodeName&&(q.ie&&q.win?(b.style.display="none",function(){if(4==b.readyState){var c=n(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function n(a){var b=null;try{b=r.getElementById(a)}catch(c){}return b}function t(a,b,c){a.attachEvent(b,
c);G[G.length]=[a,b,c]}function v(a){var b=q.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function w(a,b,c,d){if(!q.ie||!q.mac){var g=r.getElementsByTagName("head")[0];g&&(c=c&&"string"==typeof c?c:"screen",d&&(N=C=null),C&&N==c||(d=r.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),C=g.appendChild(d),q.ie&&(q.win&&typeof r.styleSheets!=
u&&0<r.styleSheets.length)&&(C=r.styleSheets[r.styleSheets.length-1]),N=c),q.ie&&q.win?C&&typeof C.addRule==y&&C.addRule(a,b):C&&typeof r.createTextNode!=u&&C.appendChild(r.createTextNode(a+" {"+b+"}")))}}function x(a,b){if(P){var c=b?"visible":"hidden";F&&n(a)?n(a).style.visibility=c:w("#"+a,"visibility:"+c)}}function B(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=u?encodeURIComponent(a):a}var u="undefined",y="object",A="application/x-shockwave-flash",s="SWFObjectExprInst",z=
window,r=document,E=navigator,Q=!1,I=[function(){Q?d():f()}],D=[],L=[],G=[],H,K,M,O,F=!1,J=!1,C,N,P=!0,q=function(){var a=typeof r.getElementById!=u&&typeof r.getElementsByTagName!=u&&typeof r.createElement!=u,b=E.userAgent.toLowerCase(),c=E.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",e=[0,0,0],f=null;if(typeof E.plugins!=u&&typeof E.plugins["Shockwave Flash"]==y)!(f=
E.plugins["Shockwave Flash"].description)||typeof E.mimeTypes!=u&&E.mimeTypes[A]&&!E.mimeTypes[A].enabledPlugin||(Q=!0,g=!1,f=f.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e[0]=parseInt(f.replace(/^(.*)\..*$/,"$1"),10),e[1]=parseInt(f.replace(/^.*\.(.*)\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(f)?parseInt(f.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof z.ActiveXObject!=u)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");n&&(f=n.GetVariable("$version"))&&(g=!0,f=f.split(" ")[1].split(","),
e=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}catch(h){}return{w3:a,pv:e,wk:b,ie:g,win:d,mac:c}}();(function(){q.w3&&((typeof r.readyState!=u&&"complete"==r.readyState||typeof r.readyState==u&&(r.getElementsByTagName("body")[0]||r.body))&&a(),F||(typeof r.addEventListener!=u&&r.addEventListener("DOMContentLoaded",a,!1),q.ie&&q.win&&(r.attachEvent("onreadystatechange",function(){"complete"==r.readyState&&(r.detachEvent("onreadystatechange",arguments.callee),a())}),z==top&&function(){if(!F){try{r.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,
0);return}a()}}()),q.wk&&function(){F||(/loaded|complete/.test(r.readyState)?a():setTimeout(arguments.callee,0))}(),c(a)))})();(function(){q.ie&&q.win&&window.attachEvent("onunload",function(){for(var a=G.length,b=0;b<a;b++)G[b][0].detachEvent(G[b][1],G[b][2]);a=L.length;for(b=0;b<a;b++)g(L[b]);for(var c in q)q[c]=null;q=null;for(var d in swfobject)swfobject[d]=null;swfobject=null})})();return{registerObject:function(a,b,c,d){if(q.w3&&a&&b){var g={};g.id=a;g.swfVersion=b;g.expressInstall=c;g.callbackFn=
d;D[D.length]=g;x(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(q.w3)return e(a)},embedSWF:function(a,c,d,g,e,f,n,t,l,m){var w={success:!1,id:c};q.w3&&!(q.wk&&312>q.wk)&&a&&c&&d&&g&&e?(x(c,!1),b(function(){d+="";g+="";var b={};if(l&&typeof l===y)for(var q in l)b[q]=l[q];b.data=a;b.width=d;b.height=g;q={};if(t&&typeof t===y)for(var B in t)q[B]=t[B];if(n&&typeof n===y)for(var r in n)q.flashvars=typeof q.flashvars!=u?q.flashvars+("&"+r+"="+n[r]):r+"="+n[r];if(v(e))B=p(b,q,c),b.id==
c&&x(c,!0),w.success=!0,w.ref=B;else{if(f&&h()){b.data=f;k(b,q,c,m);return}x(c,!0)}m&&m(w)})):m&&m(w)},switchOffAutoHideShow:function(){P=!1},ua:q,getFlashPlayerVersion:function(){return{major:q.pv[0],minor:q.pv[1],release:q.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(a,b,c){if(q.w3)return p(a,b,c)},showExpressInstall:function(a,b,c,d){q.w3&&h()&&k(a,b,c,d)},removeSWF:function(a){q.w3&&g(a)},createCSS:function(a,b,c,d){q.w3&&w(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=
r.location.search||r.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return B(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return B(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(J){var a=n(s);a&&H&&(a.parentNode.replaceChild(H,a),K&&(x(K,!0),q.ie&&q.win&&(H.style.display="block")),M&&M(O));J=!1}}}}();swfobject.addDomLoadEvent(function(){"function"===typeof SWFUpload.onload&&SWFUpload.onload.call(window)});
"function"===typeof SWFUpload&&(SWFUpload.queue={},SWFUpload.prototype.initSettings=function(a){return function(b){"function"===typeof a&&a.call(this,b);this.queueSettings={};this.queueSettings.queue_cancelled_flag=!1;this.queueSettings.queue_upload_count=0;this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler;this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler;this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler;this.settings.upload_start_handler=
SWFUpload.queue.uploadStartHandler;this.settings.queue_complete_handler=b.queue_complete_handler||null}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.startUpload=function(a){this.queueSettings.queue_cancelled_flag=!1;this.callFlash("StartUpload",[a])},SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0;this.stopUpload();for(var a=this.getStats();0<a.files_queued;)this.cancelUpload(),a=this.getStats()},SWFUpload.queue.uploadStartHandler=function(a){var b;
"function"===typeof this.queueSettings.user_upload_start_handler&&(b=this.queueSettings.user_upload_start_handler.call(this,a));b=!1===b?!1:!0;this.queueSettings.queue_cancelled_flag=!b;return b},SWFUpload.queue.uploadCompleteHandler=function(a){var b=this.queueSettings.user_upload_complete_handler;a.filestatus===SWFUpload.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++;if("function"===typeof b?!1!==b.call(this,a):a.filestatus!==SWFUpload.FILE_STATUS.QUEUED)0<this.getStats().files_queued&&
!1===this.queueSettings.queue_cancelled_flag?this.startUpload():(!1===this.queueSettings.queue_cancelled_flag?this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]):this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0)});
$.fn.followIt=function(a){var b=$.extend({hadFollow:!1,beforeTxt:"\u5173\u6ce8",beforeClass:"gsn-btn-3",inprocessingClass:"gsn-btn-22",inprocessingTxt:"\u8bf7\u7a0d\u7b49",afterClass:"gsn-btn-22",afterTxt:"\u53d6\u6d88\u5173\u6ce8",followIt:null,cancelFollowIt:null},a);b.followIt||alert("\u8bf7\u8bbe\u7f6esetting.followIt \u4f5c\u4e3a\u56de\u8c03");b.cancelFollowIt||alert("\u8bf7\u8bbe\u7f6esetting.cancelFollowIt \u4f5c\u4e3a\u56de\u8c03");var c=$(this),d=function(){c.hasClass(b.beforeClass)?(c.html(b.beforeTxt),
b.hadFollow=!1):c.hasClass(b.afterClass)&&(c.html(b.afterTxt),b.hadFollow=!0)};d();var f=function(a){0<$(".clue_uplayer").length&&$(".clue_uplayer").remove();var b,d=c.offset();b=b||jQuery('<div class="clue_uplayer"><div class="close_layerClue"></div><ul><li>\u786e\u8ba4\u53d6\u6d88\uff1f</li><li><input name="" id="btnNO" type="button" value="\u5426" /><input name="" id="btnYes" type="button" value="\u662f" /></li></ul></div>');b.css({display:"none",left:d.left+3+"px",top:d.top+18+"px"}).appendTo("body").show().find("#btnYes").bind("click",
function(){a(!0);b.slideUp(function(){b.remove()})}).parent().find("#btnNO").bind("click",function(){b.slideUp(function(){b.remove()});a(!1)})};c.bind("click",function(){if(!c.hasClass("a_popup_login")){if($(this).html==b.inprocessingTxt)return!1;b.hadFollow?f(function(a){a?(c.removeClass(b.beforeClass).removeClass(b.afterClass).addClass(b.inprocessingClass),c.html(b.inprocessingTxt),b.cancelFollowIt(function(a){a?(c.removeClass(b.inprocessingClass).addClass(b.beforeClass),c.html(b.beforeTxt),b.hadFollow=
!1):(c.removeClass(b.inprocessingClass).addClass(b.afterClass),c.html(b.afterTxt))},c)):d()}):(c.removeClass(b.beforeClass).removeClass(b.afterClass).addClass(b.inprocessingClass),c.html(b.inprocessingTxt),b.followIt(function(a){a?(c.removeClass(b.inprocessingClass).addClass(b.afterClass),c.html(b.afterTxt),b.hadFollow=!0):(c.removeClass(b.inprocessingClass).addClass(b.beforeClass),c.html(b.beforeTxt))},c))}});return this};
(function(a,b,c,d){var f=a(b);a.fn.lazyload=function(e){function h(){var b=0;k.each(function(){var c=a(this);if(!(m.skip_invisible&&!c.is(":visible")||a.abovethetop(this,m)||a.leftofbegin(this,m)))if(!a.belowthefold(this,m)&&!a.rightoffold(this,m))c.trigger("appear"),b=0;else if(++b>m.failure_limit)return!1})}var k=this,m={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
e&&(d!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),d!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),a.extend(m,e));e=m.container===d||m.container===b?f:a(m.container);0===m.event.indexOf("scroll")&&e.bind(m.event,function(){return h()});this.each(function(){var b=this,c=a(b);b.loaded=!1;c.attr("src")!==d&&!1!==c.attr("src")||c.attr("src",m.placeholder);c.one("appear",function(){this.loaded||(m.appear&&m.appear.call(b,k.length,m),a("<img />").bind("load",
function(){var d=c.data(m.data_attribute);c.hide();c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')");c[m.effect](m.effect_speed);b.loaded=!0;d=a.grep(k,function(a){return!a.loaded});k=a(d);m.load&&m.load.call(b,k.length,m)}).attr("src",c.data(m.data_attribute)))});0!==m.event.indexOf("scroll")&&c.bind(m.event,function(){b.loaded||c.trigger("appear")})});f.bind("resize",function(){h()});/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&f.bind("pageshow",function(b){b.originalEvent&&
b.originalEvent.persisted&&k.each(function(){a(this).trigger("appear")})});a(c).ready(function(){h()});return this};a.belowthefold=function(c,h){return(h.container===d||h.container===b?(b.innerHeight?b.innerHeight:f.height())+f.scrollTop():a(h.container).offset().top+a(h.container).height())<=a(c).offset().top-h.threshold};a.rightoffold=function(c,h){return(h.container===d||h.container===b?f.width()+f.scrollLeft():a(h.container).offset().left+a(h.container).width())<=a(c).offset().left-h.threshold};
a.abovethetop=function(c,h){return(h.container===d||h.container===b?f.scrollTop():a(h.container).offset().top)>=a(c).offset().top+h.threshold+a(c).height()};a.leftofbegin=function(c,h){return(h.container===d||h.container===b?f.scrollLeft():a(h.container).offset().left)>=a(c).offset().left+h.threshold+a(c).width()};a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,
{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,
document);
!function(a){a.support.transition=function(){var a;a:{a=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(void 0!==a.style[c]){a=b[c];break a}a=void 0}return a&&{end:a}}();var b=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.$indicators.css({"margin-left":-this.$indicators.width()/2+"px"}).show();this.options=
c;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},
to:function(b){var c=this.getActiveIndex(),e=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){e.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));clearInterval(this.interval);this.interval=null;return this},next:function(){if(!this.sliding)return this.slide("next")},
prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,c){var e=this.$element.find(".item.active"),h=c||e[b](),k=this.interval,m="next"==b?"left":"right",l="next"==b?"first":"last",p=this;this.sliding=!0;k&&this.pause();h=h.length?h:this.$element.find(".item")[l]();m=a.Event("slide",{relatedTarget:h[0],direction:m});if(!h.hasClass("active")){this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(p.$indicators.children()[p.getActiveIndex()]);
b&&b.addClass("active")}));this.$element.trigger(m);var g=this;if(!m.isDefaultPrevented())return e.fadeOut({duration:600,easing:"linear",complete:function(){a(this).removeClass("active")}}),h.fadeIn({duration:600,easing:"linear",complete:function(){a(this).addClass("active");g.sliding=!1;setTimeout(function(){g.$element.trigger("slid")},0)}}),k&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var f=a(this),e=f.data("carousel"),h=a.extend({},a.fn.carousel.defaults,
"object"==typeof c&&c),k="string"==typeof c?c:h.slide;e||f.data("carousel",e=new b(this,h));if("number"==typeof c)e.to(c);else if(k)e[k]();else h.interval&&e.pause().cycle()})};a.fn.carousel.defaults={interval:4E3,pause:"hover"};a.fn.carousel.Constructor=b;a.fn.carousel.noConflict=function(){a.fn.carousel=c;return this};a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c=a(this),e,h=a(c.attr("data-target")||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));
e=a.extend({},h.data(),c.data());h.carousel(e);if(c=c.attr("data-slide-to"))h=h.data("carousel").pause(),h.to(c),h.cycle();b.preventDefault()})}(window.jQuery);
(function(a){a.fn.setfixed=function(b){b=a.extend({color:"#fff",top:0},b);return this.each(function(){function c(){a(window).unbind("resize",x);e&&(a(window).scrollTop()>w?f.css(v):(f.css(t),h&&(l=f.parent().width(),f.css({width:l}))));setTimeout(function(){a(window).bind("resize",x)},1)}function d(){e=!0;m=f.offset();l=f.width();p=f.height();g=f.css("overflow");l=b.width||l;h&&(l=f.parent().width());v={top:k,left:m.left,width:l,height:p,overflow:g,position:"fixed"};c()}var f=a(this),e=!0,h=!1,k=
parseInt(b.top),m=f.offset(),l=f.width(),p=f.height(),g=f.css("overflow"),n=null,t={position:f.css("position"),overflow:g,top:f.css("top"),left:f.css("left"),right:f.css("right")},h=b.getParentWidth||h,l=b.width||l;h&&(l=f.parent().width());var v={top:k,left:m.left,width:l,height:p,overflow:g,position:"fixed"},w=m.top-k,x=function(){clearTimeout(n);f.css(t);e=!1;n=setTimeout(d,300)},B=GS.throttle(c,25);a(window).scroll(B);a(window).bind("resize",x);c()})}})(jQuery);
(function(a){a(function(){a("body").append(a('<div id="gsn-notice-box" style="width: 290px; text-align: center; position: fixed; left: 50%; top: 50%; margin:-20px 0 0 -145px; z-index: 100;display:none;"></div>'))});a.fn.gstips=function(b){var d=a(this);d.addClass("gsn_tips");b=a.extend({id:"gs_tips"+d.attr("id"),width:200,text:"tips...",arrow:"arrow"},b);var f={top:d.offset().top-40,left:d.offset().left-b.width/2+d.width()/2},d='<div id="'+b.id+'" class="gsn-tips-opacity" style="display:none;position:absolute;width:'+
b.width+"px;top:"+f.top+"px;left:"+f.left+'px"><div class="spanbg"></div><div class="text">'+b.text+'</div><span class="'+b.arrow+'"></span></div>';a("body").append(a(d));var e=a("#"+b.id);a(this).hover(function(){e.css(f).show()},function(){e.css(f).hide()})};a.extend({gsmessages:{callnum:0,notice:function(b){var d=this.callnum++;b=a.extend({id:d,time:"gs_notice_"+d},b);a("#gsn-notice-box").show().append(a(this._init_notice(b)));a("#gs_notice_"+d+" a").live("click",function(b){a(this).parent().fadeOut("slow")});
b.timeout&&(b.time=window.setTimeout(function(){a("#gs_notice_"+b.id).fadeOut("slow");window.clearTimeout(b.time)},b.timeout))},_init_notice:function(a){return'<p class="gsn-notice" id="gs_notice_'+a.id+'">\t\t\t\t\t\t\t<a class="close" href="#">\u00d7</a>\t\t\t\t\t\t\t<span class="gsn-notice-inner">'+a.text+"</a></span>\t\t\t\t\t\t\t</p>"}}});a.fn.gspoptext=function(b){b=a.extend({css:{font:'24px/24px "Microsoft YaHei"',color:"#f00"},callbackFN:"",time:5E3,top:30},b);var d=a(this),f=d.offset(),e=
d.attr("data-text"),h=a("<div>"+e+"</div>"),d={position:"absolute",left:f.left+d.width()/2+10,top:f.top},d=a.extend(b.css,d);h.appendTo(a("body")).css(d).animate({top:d.top-b.top,opacity:0},b.time/2);window.setTimeout(function(){h.remove();"function"===typeof b.callbackFN&&b.callbackFN()},b.time);return this};a.fn.gscorner=function(b){a.fn.gscorner.defaults={pos:"rb",time:0};if(!a.browser.msie||"6.0"!=a.browser.version){var d={lt:{left:80,top:20},rt:{right:80,top:20},lb:{left:80,bottom:20},rb:{right:80,
bottom:20}};return this.each(function(){b=a.extend(a.fn.gscorner.defaults,b);var f=a(this),e=f.find(".close"),h=d[b.pos],k=null;clearTimeout(k);h=a.extend(h,b.css,{position:"fixed"});f.css(h);b.time&&(k=setTimeout(function(){f.hide(250)},b.time));e.click(function(){clearTimeout(k);f.hide(250)})})}};var b=function(b,d){this.$element=a(b);this.$inner=this.$element.find(".noderoll-inner");this.options=d;var f=this,e=this.$element.find(".noderoll-control"),h=e.filter("a[data-slide='prev']"),k=e.filter("a[data-slide='next']");
this.$prevBtn=h;this.$nextBtn=k;h.click(function(){f.prev()});k.click(function(){f.next()});this.options.interval&&(h.removeClass("cannot-click"),f.cycle(),this.$inner.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this)));2>this.$inner.find(".item").length&&e.hide()};b.prototype={cycle:function(b){b||(this.paused=!1);this.cycleTimer&&clearInterval(this.cycleTimer);this.options.interval&&!this.paused&&(this.cycleTimer=setInterval(a.proxy(this.next,this),this.options.interval));
return this},pause:function(a){a||(this.paused=!0);this.cycle(!0);clearInterval(this.cycleTimer);this.cycleTimer=null;return this},next:function(){return this.slide("next")},prev:function(){return this.slide("prev")},slide:function(b){var d=this,f=this.$inner.find(".item.active"),e=this.$inner.find(".item").length,h=f[b](),k=this.cycleTimer;k&&this.pause();this.options.interval&&!h.length&&(h="next"==b?this.$inner.find(".item").eq(0):this.$inner.find(".item").eq(e-1));if(!h.hasClass("active"))return 0<
h.length&&f.fadeOut({duration:600,easing:"linear",complete:function(){a(this).removeClass("active");activeIndex=d.$inner.find(".item").index(h);d.options.interval||(0>=activeIndex?(d.$prevBtn.addClass("cannot-click"),d.$nextBtn.removeClass("cannot-click")):activeIndex>=e-1?(d.$nextBtn.addClass("cannot-click"),d.$prevBtn.removeClass("cannot-click")):(d.$prevBtn.removeClass("cannot-click"),d.$nextBtn.removeClass("cannot-click")));h.fadeIn({duration:600,easing:"linear",complete:function(){a(this).addClass("active")}})}}),
k&&this.cycle(),this}};a.fn.gsnoderoll=function(c){a.fn.gsnoderoll.defaults={time:0};return this.each(function(){c=a.extend({},a.fn.gsnoderoll.defaults,c);new b(this,c)})}})(jQuery);
(function(a){a.fn.gs_tabs=function(b){function c(c,d){for(i in e)void 0!=e[i]&&a(e[i]).hide().removeClass(b.active);a(c).show().addClass(b.active);"li > a"!=b.title?a(d).siblings().removeClass(b.active).end().addClass(b.active):a(d).parent().siblings().removeClass(b.active).end().addClass(b.active);b.callback&&b.callback(d,c)}b=a.extend({title:"li > a",active:"active",event:"click",findid:"href",callback:"",delayTIME:0},b);var d=null,f=a(this).find(b.title),e=[];f.each(function(c){e.push(a(this).attr(b.findid))});
if("hover"==b.event)f.hover(function(){var e=this;d=window.setTimeout(function(){c(a(e).attr(b.findid),e)},b.delayTIME);return!1},function(){window.clearInterval(d)});else f.on(b.event,function(){c(a(this).attr(b.findid),this);return!1});return this}})(window.jQuery);
(function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.toJSON="object"===typeof JSON&&JSON.stringify?JSON.stringify:function(b){if(null===b)return"null";var c=typeof b;if("undefined"!==c){if("number"===c||"boolean"===c)return""+b;if("string"===c)return a.quoteString(b);if("object"===c){if("function"===typeof b.toJSON)return a.toJSON(b.toJSON());if(b.constructor===Date){var e=b.getUTCMonth()+1,h=b.getUTCDate(),k=b.getUTCFullYear(),
c=b.getUTCHours(),m=b.getUTCMinutes(),l=b.getUTCSeconds();b=b.getUTCMilliseconds();10>e&&(e="0"+e);10>h&&(h="0"+h);10>c&&(c="0"+c);10>m&&(m="0"+m);10>l&&(l="0"+l);100>b&&(b="0"+b);10>b&&(b="0"+b);return'"'+k+"-"+e+"-"+h+"T"+c+":"+m+":"+l+"."+b+'Z"'}if(b.constructor===Array){e=[];for(h=0;h<b.length;h++)e.push(a.toJSON(b[h])||"null");return"["+e.join(",")+"]"}h=[];for(k in b){c=typeof k;if("number"===c)e='"'+k+'"';else if("string"===c)e=a.quoteString(k);else continue;c=typeof b[k];"function"!==c&&"undefined"!==
c&&(c=a.toJSON(b[k]),h.push(e+":"+c))}return"{"+h.join(",")+"}"}}};a.evalJSON="object"===typeof JSON&&JSON.parse?JSON.parse:function(a){return eval("("+a+")")};a.secureEvalJSON="object"===typeof JSON&&JSON.parse?JSON.parse:function(a){var b=a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(b))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.");
};a.quoteString=function(a){return a.match(b)?'"'+a.replace(b,function(a){var b=c[a];if("string"===typeof b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"'}})(jQuery);
(function(a){a.fn.gsBottomRegister=function(b){function c(){var b=GS.ent()+"/AjaxNew/ajaxGetWebSiteBottomFloating.ashx?callback=?";a.getJSON(b,function(a){0==a.code&&(f.append(a.content),d())},"json")}function d(){var c=a("#regGuide");c.find(".gs_bottom_pop_close").on("click",function(){c.hide();a.cookie(b.cookieName,1,{expires:b.cookieDay,path:"/"})});window.setTimeout(function(){c.show()},b.time)}if(GS.ismoblie)return!1;b=a.extend({reg_url:"https://accounts.ctrip.com/member/emailregist.aspx",login_url:"https://accounts.ctrip.com/member/login.aspx?BackURL="+
escape(window.location.href),time:1E4,cookieName:"is_open_bottom_reg",cookieDay:1},b);if(6==a.browser.version&&a.browser.msie)return!1;var f=a(this);a.cookie.raw=!0;a.cookie(b.cookieName)||a.cookie("CtripUserInfo")||c(b);return this}})(jQuery);
(function(a){a.fn.qrcode=function(b){function c(a){this.mode=k;this.data=a}function d(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function f(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function e(a,b){this.totalCount=a;this.dataCount=b}function h(){this.buffer=[];this.length=0}var k;c.prototype={getLength:function(){return this.data.length},
write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};d.prototype={addData:function(a){this.dataList.push(new c(a));this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var b=e.getRSBlocks(a,this.errorCorrectLevel),c=new h,d=0,f=0;f<b.length;f++)d+=b[f].dataCount;
for(f=0;f<this.dataList.length;f++)b=this.dataList[f],c.put(b.mode,4),c.put(b.getLength(),m.getLengthInBits(b.mode,a)),b.write(c);if(c.getLengthInBits()<=8*d)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[c][e]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-
7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=d.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=
0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=m.getLostPoint(this);if(0==c||a>d)a=d,b=c}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}}return a},
setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=m.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var h=-2;2>=h;h++)this.modules[d+f][e+h]=-2==f||2==f||-2==h||2==h||0==f&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=
m.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(c=0;18>c;c++)d=!a&&1==(b>>c&1),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){for(var c=m.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;15>d;d++){var e=!a&&1==(c>>d&1);6>d?this.modules[d][8]=e:8>d?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;15>d;d++)e=!a&&1==(c>>d&1),8>d?this.modules[8][this.moduleCount-
d-1]=e:9>d?this.modules[8][15-d-1+1]=e:this.modules[8][15-d-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,h=this.moduleCount-1;0<h;h-=2)for(6==h&&h--;;){for(var l=0;2>l;l++)if(null==this.modules[d][h-l]){var k=!1;f<a.length&&(k=1==(a[f]>>>e&1));m.getMask(b,d,h-l)&&(k=!k);this.modules[d][h-l]=k;e--; -1==e&&(f++,e=7)}d+=c;if(0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};d.PAD0=236;d.PAD1=17;d.createData=function(a,b,c){b=e.getRSBlocks(a,
b);for(var f=new h,l=0;l<c.length;l++){var k=c[l];f.put(k.mode,4);f.put(k.getLength(),m.getLengthInBits(k.mode,a));k.write(f)}for(l=a=0;l<b.length;l++)a+=b[l].dataCount;if(f.getLengthInBits()>8*a)throw Error("code length overflow. ("+f.getLengthInBits()+">"+8*a+")");for(f.getLengthInBits()+4<=8*a&&f.put(0,4);0!=f.getLengthInBits()%8;)f.putBit(!1);for(;!(f.getLengthInBits()>=8*a);){f.put(d.PAD0,8);if(f.getLengthInBits()>=8*a)break;f.put(d.PAD1,8)}return d.createBytes(f,b)};d.createBytes=function(a,
b){for(var c=0,d=0,e=0,h=Array(b.length),l=Array(b.length),k=0;k<b.length;k++){var p=b[k].dataCount,A=b[k].totalCount-p,d=Math.max(d,p),e=Math.max(e,A);h[k]=Array(p);for(var s=0;s<h[k].length;s++)h[k][s]=255&a.buffer[s+c];c+=p;s=m.getErrorCorrectPolynomial(A);p=(new f(h[k],s.getLength()-1)).mod(s);l[k]=Array(s.getLength()-1);for(s=0;s<l[k].length;s++)A=s+p.getLength()-l[k].length,l[k][s]=0<=A?p.get(A):0}for(s=k=0;s<b.length;s++)k+=b[s].totalCount;c=Array(k);for(s=p=0;s<d;s++)for(k=0;k<b.length;k++)s<
h[k].length&&(c[p++]=h[k][s]);for(s=0;s<e;s++)for(k=0;k<b.length;k++)s<l[k].length&&(c[p++]=l[k][s]);return c};k=4;for(var m={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,
126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=m.getBCHDigit(b)-m.getBCHDigit(m.G15);)b^=m.G15<<m.getBCHDigit(b)-m.getBCHDigit(m.G15);return(a<<10|b)^m.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=
m.getBCHDigit(b)-m.getBCHDigit(m.G18);)b^=m.G18<<m.getBCHDigit(b)-m.getBCHDigit(m.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return m.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+
c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var b=new f([1],0),c=0;c<a;c++)b=b.multiply(new f([1,l.gexp(c)],0));return b},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case 1:return 10;case 2:return 9;case k:return 8;case 8:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case 1:return 12;case 2:return 11;case k:return 16;case 8:return 10;default:throw Error("mode:"+a);}else if(41>b)switch(a){case 1:return 14;case 2:return 13;
case k:return 16;case 8:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+b);},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d++)for(var e=0;e<b;e++){for(var f=0,h=a.isDark(d,e),k=-1;1>=k;k++)if(!(0>d+k||b<=d+k))for(var l=-1;1>=l;l++)0>e+l||b<=e+l||0==k&&0==l||h==a.isDark(d+k,e+l)&&f++;5<f&&(c+=3+f-5)}for(d=0;d<b-1;d++)for(e=0;e<b-1;e++)if(f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,e+1)&&f++,a.isDark(d+1,e+1)&&f++,0==f||4==f)c+=3;for(d=0;d<b;d++)for(e=
0;e<b-6;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;e<b;e++)for(d=0;d<b-6;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;e<b;e++)for(d=0;d<b;d++)a.isDark(d,e)&&f++;a=Math.abs(100*f/b/b-50)/5;return c+10*a}},l={glog:function(a){if(1>a)throw Error("glog("+a+")");return l.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=
255;for(;256<=a;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},p=0;8>p;p++)l.EXP_TABLE[p]=1<<p;for(p=8;256>p;p++)l.EXP_TABLE[p]=l.EXP_TABLE[p-4]^l.EXP_TABLE[p-5]^l.EXP_TABLE[p-6]^l.EXP_TABLE[p-8];for(p=0;255>p;p++)l.LOG_TABLE[l.EXP_TABLE[p]]=p;f.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=
l.gexp(l.glog(this.get(c))+l.glog(a.get(d)));return new f(b,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var b=l.glog(this.get(0))-l.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(d=0;d<a.getLength();d++)c[d]^=l.gexp(l.glog(a.get(d))+b);return(new f(c,0)).mod(a)}};e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],
[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,
15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,
48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],
[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,
24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,
25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];e.getRSBlocks=function(a,b){var c=e.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,f=[],h=0;h<d;h++)for(var k=c[3*h+0],l=c[3*h+1],m=c[3*h+2],p=0;p<k;p++)f.push(new e(l,m));return f};e.getRsBlockTable=function(a,b){switch(b){case 1:return e.RS_BLOCK_TABLE[4*
(a-1)+0];case 0:return e.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return e.RS_BLOCK_TABLE[4*(a-1)+2];case 2:return e.RS_BLOCK_TABLE[4*(a-1)+3]}};h.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};"string"===typeof b&&
(b={text:b});b=a.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},b);return this.each(function(){var c;if("canvas"==b.render){c=new d(b.typeNumber,b.correctLevel);c.addData(b.text);c.make();var e=document.createElement("canvas");e.width=b.width;e.height=b.height;for(var f=e.getContext("2d"),h=b.width/c.getModuleCount(),k=b.height/c.getModuleCount(),l=0;l<c.getModuleCount();l++)for(var m=0;m<c.getModuleCount();m++){f.fillStyle=
c.isDark(l,m)?b.foreground:b.background;var p=Math.ceil((m+1)*h)-Math.floor(m*h),y=Math.ceil((l+1)*h)-Math.floor(l*h);f.fillRect(Math.round(m*h),Math.round(l*k),p,y)}}else for(c=new d(b.typeNumber,b.correctLevel),c.addData(b.text),c.make(),e=a("<table></table>").css("width",b.width+"px").css("height",b.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",b.background),f=b.width/c.getModuleCount(),h=b.height/c.getModuleCount(),k=0;k<c.getModuleCount();k++)for(l=
a("<tr></tr>").css("height",h+"px").appendTo(e),m=0;m<c.getModuleCount();m++)a("<td></td>").css("width",f+"px").css("background-color",c.isDark(k,m)?b.foreground:b.background).appendTo(l);jQuery(e).appendTo(this)})}})(jQuery);
